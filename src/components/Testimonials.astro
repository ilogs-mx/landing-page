---
import { testimonios } from "../utils/testimonio";
import TestimonialsCard from "./TestimonialsCard.astro";
import Title from "./Title.astro";
---

<section class="section-testimonials p-5 md:p-20">
  <div class="testimonials mb-6 :mb-15">
    <Title title="Testimonios" />
  </div>
  <div class="md:flex gap-4">
    <div class="testimonials w-full justify-items-center">
      <iframe
        src="https://www.youtube.com/embed/IpJn-rvYHA4?si=7kUMABVQyBhU6kUf"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen
        class="w-80 h-50 md:w-[710px] md:h-[439px]"></iframe>
    </div>
    <div
      class="w-full flex flex-col justify-center gap-6 px-15 pt-6 md:pt-0 md:px-30"
    >
      {
        testimonios.map((testimonios) => (
          <div class="testimonials">
          <TestimonialsCard
            name={testimonios.name}
            message={testimonios.message}
            estrellas={testimonios.estrellas}
          />
            </div>
        ))
      }
    </div>
  </div>
</section>
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  gsap.from(".testimonials",{
    opacity:0,
    y:100,
    stagger:0.25,
    duration:1,
     scrollTrigger: {
      trigger: ".section-testimonials",
      start: "top 80%",
      toggleActions: "play reset play reset",
    },
  })
</script>
